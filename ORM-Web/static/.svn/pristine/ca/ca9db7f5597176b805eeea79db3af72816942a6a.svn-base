<ng-container>
    <div >      

        <div style="display: flex;justify-content: space-between;">
            <h4 class="RaTitle" style="white-space: nowrap;margin: 0px;">
                <span class="RaTitleColor fs-4vh"><strong>{{this.totCountRA}} <span class="fs-3vh">Risk Metric(s)</span></strong></span>
            </h4>
            <div class="top" style="display: flex; margin-left: 15.5vh;cursor: pointer">
                <mat-card class="top-bar ra-open"><div class="centered-text" (click)="openTopBarPopup('Open')"><span class="font-num">{{this.Open}}</span>&nbsp;<span>Open</span></div></mat-card>
                <mat-card class="top-bar ra-gen"><div class="centered-text" (click)="openTopBarPopup('Not Started')"><span class="font-num">{{this.notStarted}}</span>&nbsp;<span> Not Started</span></div></mat-card>
                <mat-card class="top-bar ra-gen"><div class="centered-text" (click)="openTopBarPopup('Submitted')"><span class="font-num">{{this.submitted}}</span>&nbsp;<span>Submitted</span></div></mat-card>
                <mat-card class="top-bar ra-gen"><div class="centered-text" (click)="openTopBarPopup('In Progress')"><span class="font-num">{{this.inProgress}}</span>&nbsp;<span>In Progress</span></div></mat-card> 
                <mat-card class="top-bar ra-gen" style="border-top-right-radius: 10px; border-bottom-right-radius: 10px;" (click)="openTopBarPopup('Rejected')"><div class="centered-text"><span class="font-num">{{this.rejected}}</span>&nbsp;<span>Rejected</span></div></mat-card>
                <mat-card class="top-bar ra-close" style="margin-left: 20px;text-align: center;"(click)="openTopBarPopup('Closed')"><div class="centered-text"><span class="font-num">{{this.completed}}</span>&nbsp;<span>Closed</span></div></mat-card>              
                
            </div>
        </div>
        <div class="mainClassRow">
            <div class="mat-action-row" >
                <div class="matInnerClassFirst">
                    <mat-card style="box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.2);">
                        <div class="padd2vh" style="display: flex;height: calc(100% - 32px);align-items: center;">
                            <div style="width: 50%">
                                <app-risk-appetite-graph > </app-risk-appetite-graph>
                            </div>
                            <div style="width: 50%;cursor: pointer">
                                
                                <div class="rd-roundlbl" (click)="openRA('Critical')" [style.background-color]="criticColor"  matTooltip="Click here for more info.">
                                    <div class="rd-roundlbl-cont">
                                        <div class="rd-roundlbl-fig" [style.color]="criticColor">
                                            {{this.totalCriticaldata}} 
                                    </div>
                                        <div class="rd-roundlbl-lin " style="background-color:#ff5473;"></div>
                                        <div class="rd-roundlbl-lbl font-weight-bold" >
                                            <strong >Critical Risk level</strong>
                                        </div>
                                    </div>
                                </div>
                
                                <div class="rd-roundlbl" style="margin-top: 10px" [style.backgroundColor]="modcolor"  matTooltip="Click here for more info.">
                                    <div class="rd-roundlbl-cont" (click)="openRA('Moderate')">
                                        <div class="rd-roundlbl-fig" [style.color]="modcolor">
                                            {{this.totalModeratedata}} 
                                        </div>                                       
                                        <div class="rd-roundlbl-lin " style="background-color:#ffb26b;" ></div>
                                        <div class="rd-roundlbl-lbl font-weight-bold" >
                                            <strong> Moderate Risk Level</strong>
                                        </div>                                    
                                    </div>
                                </div>
           
                                <div class="rd-roundlbl " style="margin-top: 10px" [style.backgroundColor]="lowcolor"  matTooltip="Click here for more info.">
                                    <div class="rd-roundlbl-cont" (click)="openRA('Low')">
                                        <div class="rd-roundlbl-fig " [style.color]="lowcolor">
                                            {{this.totalLowdata}} 
                                        </div>
                                        <div class="rd-roundlbl-lin " style="background-color:#096826;"></div>
                                        <div class="rd-roundlbl-lbl font-weight-bold">
                                            <strong>Low Risk Level</strong>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </mat-card>
                </div>
                <div class="matInnerClassSecond">                
                    <mat-card style="box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.2);"> 
                        
                        <div class="padd2vh">
                            <div class=" " style="display: flex;  justify-content: space-between;  margin-top: 0.2rem;align-items: baseline;">
                                <h4>Count of &nbsp;<span style="color: #005bba"><strong>Critical Metrics in Groups</strong></span></h4>
                               
                            </div>
                            <div class="no-data"  *ngIf="uniqueValues.size ==0"> 
                                <span >No data available</span>  
                            </div>
                          
                            <div style="display: flex"  *ngIf="uniqueValues.size >0">
                                <div style="width: 50%; margin-top: 0.5vh;margin-left: 15px;">
                                    <div class="rd-group"  *ngFor="let key of uniqueValues let i=index">
                                        <div *ngIf  = '(key.val)%2 == 1'>
                                            <div class="rd-cmgroup"  style="margin-bottom: 10px;cursor: pointer;" (click)="openRAPopup(key.riskName)"  matTooltip="Click here for more info.">                                   
                                                <!-- <div class="rd-cmgroup-gn"  [style.background-image]="lineraData[i].bgroundcolor">{{key.riskName}}</div> -->
                                                <div class="rd-cmgroup-gn" style=" background-image: linear-gradient(to right, #e0fff3, #ffffff, #ffffff)" >{{key.riskName}}</div>
                                                <div class="rd-cmgroup-fig" >{{key.totalCount}}</div>
                                            </div>                               
                                        </div>
                                    </div>
                                </div>

                                <div style="height: 50px; width: 50%; margin-top: 0.5vh;margin-left: 15px;">
                                    <div class="rd-group"  *ngFor="let key of uniqueValues let i =index ">
                                        <div  *ngIf  = '(key.val)%2 == 0  '>
                                            <div class="rd-cmgroup" style="margin-bottom: 10px;cursor: pointer;" (click)="openRAPopup(key.riskName)"  matTooltip="Click here for more info.">
                                                <!-- <div class="rd-cmgroup-gn"  [style.background-image]="lineraData[i].bgroundcolor" >{{key.riskName}}</div> -->
                                                <div class="rd-cmgroup-gn"  style=" background-image: linear-gradient(to right, #feffe7, #ffffff, #ffffff)" > {{key.riskName}}</div>
                                                <div class="rd-cmgroup-fig"  > {{key.totalCount}}</div>
                                            </div>
                                        </div>                           
                                    </div>
                                </div>
                            </div>

                        </div>
                        <a class="matbutton" (click)="viewAllGroups()">View All</a>           
                    </mat-card>
                </div>
            </div> 

            <div class="mat-action-row">
                <div class="matInnerClassFirst">
                    <mat-card  class=" " style="box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.2);">
                        
                        <div class="padd2vh">
                            <mat-card-content >
                                <div class=" " style="display: flex;  justify-content: space-between;  margin-top: 0.2rem;align-items: baseline;">
                                    <h4 style="margin-bottom: 10px;"><span style="color: #005bba"><strong>Organizational Risk Appetite</strong></span>&nbsp; - Major Risks</h4>
                                    
                                </div>
                                <table mat-table [dataSource]="riskTableData" class="rd-tbl">            
                                    <ng-container matColumnDef="name">
                                        <th mat-header-cell *matHeaderCellDef class="rd-tbl-ordhead" style =' padding-bottom: 35px;width:50%;border-top-left-radius: 1vmin;'  [attr.rowspan]="2"  [ngStyle]="{'border': 'none'}"> Risks </th>                           
                                        <td mat-cell *matCellDef="let element" style="text-align: left;"> {{element.name}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="CriticalWiseRisk">
                                        <th mat-header-cell *matHeaderCellDef class="rd-tbl-ordhead" style="text-align: center;width:25%; border-top-right-radius: 1vmin;padding-left: 4px; " [ngStyle]="{'border': 'none'}" [attr.colspan]="2" > Criticality Wise Risk Metrics </th>
                                    </ng-container>
                                     <ng-container matColumnDef="Status">
                                        <th mat-header-cell *matHeaderCellDef class="rd-tbl-ordhead" style="text-align: center;width:25%;padding-left:19px; " [ngStyle]="{'border': 'none'}" colspan="2" > Status </th>
                                    </ng-container>
                                    <ng-container matColumnDef="openCount">
                                        <th mat-header-cell *matHeaderCellDef class="rd-tbl-ordhead"  style ='text-align: center; width:12.5%;'  [ngStyle]="{'border': 'none'}" > Open  </th>
                                        <td mat-cell *matCellDef="let element"  class="rd-tbl-data" style="text-align: center;  font-size: 2.5vh;cursor: pointer;" (click)="openOrgPopup('open', element)"> <span matTooltip="Click here for more info!">{{element.openCount}}</span>  </td>
                                    </ng-container>
                                    <ng-container matColumnDef="closedCount">
                                        <th mat-header-cell *matHeaderCellDef class="rd-tbl-ordhead"  style ='text-align: center;width:12.5%;'  [ngStyle]="{'border': 'none'}" > Closed </th>
                                        <td mat-cell *matCellDef="let element" class="rd-tbl-data" style="text-align: center; font-size: 2.5vh;cursor: pointer;" (click)="openOrgPopup('closed', element)"> <span matTooltip="Click here for more info!">{{element.closedCount}}</span>  </td>
                                    </ng-container>
                                     <ng-container matColumnDef="CriticalRiskLevel">
                                        <th mat-header-cell *matHeaderCellDef class="rd-tbl-ordhead"  style ='text-align: center; width:12.5%;'  [ngStyle]="{'border': 'none'}" > Critical  </th>
                                        <td mat-cell *matCellDef="let element"  class="rd-tbl-data" style="text-align: center;  font-size: 2.5vh;cursor: pointer;" (click)="openOrgPopup('CriticalRiskLevel', element)"><span matTooltip="Click here for more info!">{{element.CriticalRiskLevel}}</span>  </td>
                                    </ng-container>
                                    <ng-container matColumnDef="ModerateRiskLevel">
                                        <th mat-header-cell *matHeaderCellDef class="rd-tbl-ordhead"  style ='text-align: center;width:12.5%; '  [ngStyle]="{'border': 'none'}" > Moderate </th>
                                        <td mat-cell *matCellDef="let element"  class="rd-tbl-data" style="text-align: center; font-size: 2.5vh;cursor: pointer;" (click)="openOrgPopup('ModerateRiskLevel', element)"><span matTooltip="Click here for more info!"> {{element.ModerateRiskLevel}} </span></td>
                                    </ng-container>

                                    <tr mat-header-row style='height:1px; padding: 0.3rem;'*matHeaderRowDef="['name','Status','CriticalWiseRisk']"></tr>
                                    <tr mat-header-row style='height:1px;  padding: 0.3rem;' *matHeaderRowDef="['openCount','closedCount','CriticalRiskLevel','ModerateRiskLevel']"  ></tr>
                                    <tr mat-row style='height:5px;'  *matRowDef="let row; columns: displayedColumns"  ></tr>
                                
                                </table>   
                                <a class="matbutton" (click)="viewAll()" >View All</a>   
                            </mat-card-content>
                        </div>
                    </mat-card>
                </div>
        
                <div class="matInnerClassSecond">
                    <mat-card style="box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.2);">
                        <div class="padd2vh" style="height: calc(100% - 32px)">
                            <mat-card-content style="height: 100%">
                                <h4>Quarter Wise &nbsp;<span style="color: #005bba"><strong>Critical Risk Metrics</strong></span></h4>    
                                <div style=" height: calc(100% - 40px); 
                                align-items: center;">
                                    <app-ra-bar-graph></app-ra-bar-graph>
                                </div>
                            </mat-card-content>
                        </div>
                    </mat-card>
                </div>
            </div>
        </div>
    </div> 
   
</ng-container>
