<ng-container>
    <mat-toolbar>
        <div class="row">
            <div class="incidents-font col-3">{{assessmentCout}} <span style="font-size: 20px;">Total Risks</span>
            </div>
            <div class="search col-5">
                <input matInput placeholder=" Search Risk Assesment" class="searched-Data"
                    [(ngModel)]="globalSearchValue" (ngModelChange)="updateTable()">
                <mat-icon matPrefix class="seacrhIconReport">search</mat-icon>
            </div>
            <div class="col-1" style="padding-left: 60px;">
                <mat-card class="status-card" style="box-shadow: -2px 3px 3px #333333, 10px 1px 0px 1px #499AEE;">
                    <mat-card-header>
                        <span class="status-count" style="color: #499AEE;">{{new}}</span>
                        <span class="status-divider" style="background: #499AEE;"></span>
                        <span class="status-type"><b>New</b></span>
                    </mat-card-header>
                </mat-card>
            </div>
            <div class="col-1">
                <mat-card class="status-card" style="box-shadow: -2px 3px 3px #333333, 10px 1px 0px 1px #999999;">
                    <mat-card-header>
                        <span class="status-count" style="color:#999999">{{draft}}</span>
                        <span class="status-divider" style="background: #999999;"></span>
                        <span class="status-type"><b>Draft</b></span>
                    </mat-card-header>
                </mat-card>
            </div>
            <div class="col-1">
                <mat-card class="status-card" style="box-shadow: -2px 3px 3px #333333, 10px 1px 0px 1px #97BC02;">
                    <mat-card-header>
                        <span class="status-count" style="color:#97BC02">{{underReview}}</span>
                        <span class="status-divider" style="background: #97BC02;"></span>
                        <span class="status-type"><b>Under <br> Review</b></span>
                    </mat-card-header>
                </mat-card>
            </div>
            <div class="col-1">
                <mat-card class="status-card" style="box-shadow: -2px 3px 3px #333333, 10px 1px 0px 1px #FF5473;">
                    <mat-card-header>
                        <span class="status-count" style="color:#FF5473">{{rejected}}</span>
                        <span class="status-divider" style="background: #FF5473;"></span>
                        <span class="status-type"><b>Rejected</b></span>
                    </mat-card-header>
                </mat-card>
            </div>
            <div class="col-1">
                <mat-card class="status-card" style="box-shadow: -2px 3px 3px #333333, 10px 1px 0px 1px #009E50;">
                    <mat-card-header>
                        <span class="status-count" style="color:#009E50">{{approved}}</span>
                        <span class="status-divider" style="background: #009E50;"></span>
                        <span class="status-type"><b>Approved</b></span>
                    </mat-card-header>
                </mat-card>
            </div>
            <!-- <div class="col-1" style="cursor:pointer; padding-left: 10px;" matTooltip="Export to PDF">
                <mat-card class="icon-excel" (click)="generatePdf()">
                    <img class="excel-img" src="assets/icon-pdf.svg" />
                </mat-card>
            </div> -->
            <!-- <div class="col-1" style="cursor:pointer;" matTooltip="Export to Excel">
                <mat-card class="icon-excel" (click)="generateExcel()">
                    <img class="excel-img" src="assets/icon-excel.svg" />
                </mat-card>
            </div> -->
            <div class="col-1" style="cursor:pointer;" matTooltip="Export to Excel">
                <mat-card class="icon-excel" (click)="generateExcel()">
                    <img class="excel-img" src="assets/icon-excel.svg" alt="Excel Icon" style="height: 4vh;
                    width: 4vh;
                    margin-top: -1vh;
                    margin-bottom: -1vh;
                    margin-left: 0.1vh;
                    margin-right: 1vh;" />
                </mat-card>
            </div>
        </div>
    </mat-toolbar>
    <div class="mat-elevation-z8" *ngIf="true;">
        <mat-card style="height: 557px">
            <div style="max-height: 71vh;overflow-y:scroll">
                <table mat-table [dataSource]="dataSource.data" matSort id="rcsaTable">
                    <ng-container matColumnDef="SNo">
                        <th mat-header-cell *matHeaderCellDef> # </th>
                        <td mat-cell *matCellDef="let row; let i = index;"> {{i+1}} </td>
                    </ng-container>
                    <ng-container matColumnDef="code">
                        <th mat-header-cell *matHeaderCellDef> RCSA code </th>
                        <td mat-cell *matCellDef="let row;">{{row.RCSACode}}</td>
                    </ng-container>
                    <ng-container matColumnDef="group">
                        <th mat-header-cell *matHeaderCellDef> Group </th>
                        <td mat-cell *matCellDef="let row;"> {{row.GroupName}} </td>
                    </ng-container>
                    <ng-container matColumnDef="unit">
                        <th mat-header-cell *matHeaderCellDef> Unit </th>
                        <td mat-cell *matCellDef="let row;"> {{row.Unit}} </td>
                    </ng-container>
                    <ng-container matColumnDef="risk">
                        <th mat-header-cell *matHeaderCellDef> Risk </th>
                        <td mat-cell *matCellDef="let row;" [matTooltip]="row.Risk"> {{row.Risk}} </td>>
                    </ng-container>
                    <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef> Status </th>
                        <td mat-cell *matCellDef="let row;"> {{row.ScheduleInherentRiskStatusName}} </td>
                    </ng-container>
                    <ng-container matColumnDef="inherentRiskRating">
                        <th mat-header-cell *matHeaderCellDef> Inherent Risk Rating </th>
                        <td mat-cell *matCellDef="let row;"
                            [style.background]="row.InherentRiskRating?row.OverallInherentRiskColorCode:''">
                            {{row.InherentRiskRating}} </td>
                    </ng-container>

                    <ng-container matColumnDef="controlEnvironment">
                        <th mat-header-cell *matHeaderCellDef> Control Environment </th>
                        <td mat-cell *matCellDef="let row;"
                            [style.background]="row.ControlEnvironmentRating?row.OverallControlEnvironmentRatingColourCode:''">
                            {{row.ControlEnvironmentRating}} </td>
                    </ng-container>
                    <ng-container matColumnDef="residualRiskRating">
                        <th mat-header-cell *matHeaderCellDef> Residual Risk Rating </th>
                        <td mat-cell *matCellDef="let row;"
                            [style.background]="row.ResidualRiskRating?row.ResidualRiskRatingColourCode:''">
                            {{row.ResidualRiskRating}} </td>
                    </ng-container>
                    <ng-container matColumnDef="selfComments">
                        <th mat-header-cell *matHeaderCellDef> Self Comments </th>
                        <td mat-cell *matCellDef="let row;"> {{row.SelfComment}} </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    <tr *matNoDataRow><td [attr.colspan]="displayedColumns.length"><span style="font-size: large;margin-left: 33vw;">No data found.</span></td></tr>
                </table>
            </div>
            <ng-template #noDataTemplate>
                <p class="no-data">No Data Found</p>
            </ng-template>
        </mat-card>
    </div>
</ng-container>
